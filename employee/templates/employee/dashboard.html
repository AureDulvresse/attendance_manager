{% extends "base.html" %} {% block content %}
<!-- Main Content -->
<div
  class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom"
>
  <h1 class="h2">Dashboard</h1>
  <div class="btn-toolbar mb-2 mb-md-0">
    <div class="btn-group me-2">
      <button type="button" class="btn btn-sm btn-outline-primary">
        Exporter
      </button>
      <button type="button" class="btn btn-sm btn-outline-secondary">
        Imprimer
      </button>
    </div>
  </div>
</div>

<!-- Cards Section -->
<div class="row">
  <!-- Card: Total Employés -->
  <div class="col-md-3 mb-4">
    <div class="card text-white bg-primary shadow">
      <div class="card-body d-flex align-items-center">
        <i class="fas fa-users fa-3x me-3"></i>
        <div>
          <h5 class="card-title">Total employés</h5>
          <p class="card-text fs-5">120</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Card: Présences -->
  <div class="col-md-3 mb-4">
    <div class="card text-white bg-success shadow">
      <div class="card-body d-flex align-items-center">
        <i class="fas fa-calendar-check fa-3x me-3"></i>
        <div>
          <h5 class="card-title">Présences</h5>
          <p class="card-text fs-5">95</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Card: Absences -->
  <div class="col-md-3 mb-4">
    <div class="card text-white bg-danger shadow">
      <div class="card-body d-flex align-items-center">
        <i class="fas fa-user-times fa-3x me-3"></i>
        <div>
          <h5 class="card-title">Absences</h5>
          <p class="card-text fs-5">25</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Card: Paie Mensuelle -->
  <div class="col-md-3 mb-4">
    <div class="card text-white bg-warning shadow">
      <div class="card-body d-flex align-items-center">
        <i class="fas fa-money-check-alt fa-3x me-3"></i>
        <div>
          <h5 class="card-title">Paie mensuelle</h5>
          <p class="card-text fs-5">2,400,000 XAF</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Charts Section -->
<div class="row mb-4">
  <!-- Presence Pie Chart -->
  <div class="col-md-6">
    <div class="card shadow">
      <div class="card-header">Répartition des présences</div>
      <div class="card-body">
        <canvas id="presenceChart" width="400" height="200"></canvas>
      </div>
    </div>
  </div>

  <!-- Payroll Bar Chart -->
  <div class="col-md-6">
    <div class="card shadow">
      <div class="card-header">Évolution des dépenses salariales</div>
      <div class="card-body">
        <canvas id="payrollChart" width="400" height="200"></canvas>
      </div>
    </div>
    <!-- Actions Section -->
    <div class="row mt-4">
      <div class="col-md-12">
        <div class="card shadow">
          <div class="card-header">Actions rapides</div>
          <div class="card-body d-flex flex-wrap gap-3">
            <button class="btn btn-primary">Ajouter un employé</button>
            <button class="btn btn-success">Marquer la présence</button>
            <button class="btn btn-warning">Générer paie</button>
            <button class="btn btn-danger">Afficher absences</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Table Section -->
<h2 class="mt-4">Résumé des présences</h2>
<div class="table-responsive shadow rounded">
  <table class="table table-striped table-sm px-2">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>Nom</th>
        <th>Poste</th>
        <th>Date</th>
        <th>Présence</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>1</td>
        <td>Jean Dupont</td>
        <td>Développeur</td>
        <td>2024-11-29</td>
        <td><span class="badge bg-success">Présent</span></td>
        <td>
          <button class="btn btn-sm btn-outline-primary">Modifier</button>
          <button class="btn btn-sm btn-outline-danger">Supprimer</button>
        </td>
      </tr>
      <tr>
        <td>2</td>
        <td>Marie Claire</td>
        <td>Designer</td>
        <td>2024-11-29</td>
        <td><span class="badge bg-danger">Absent</span></td>
        <td>
          <button class="btn btn-sm btn-outline-primary">Modifier</button>
          <button class="btn btn-sm btn-outline-danger">Supprimer</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

{% endblock content %} {% block script %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // Exemple de graphique pour les présences
  const ctx1 = document.getElementById("presenceChart").getContext("2d");
  new Chart(ctx1, {
    type: "pie",
    data: {
      labels: ["Présents", "Absents"],
      datasets: [
        {
          label: "Présences",
          data: [95, 25],
          backgroundColor: ["#28a745", "#dc3545"],
        },
      ],
    },
  });

  // Exemple de graphique pour les dépenses salariales
  const ctx2 = document.getElementById("payrollChart").getContext("2d");
  new Chart(ctx2, {
    type: "bar",
    data: {
      labels: ["Jan", "Feb", "Mar", "Apr", "May"],
      datasets: [
        {
          label: "Dépenses salariales (XAF)",
          data: [2000000, 2200000, 2400000, 2600000, 2500000],
          backgroundColor: "#ffc107",
        },
      ],
    },
  });
</script>
{% endblock script %}
